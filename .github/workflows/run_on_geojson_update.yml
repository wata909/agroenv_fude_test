name: Run fude_stats.py on GeoJSON Update

on:
  push:
    paths:
      - 'GeoJSON/*.geojson'

jobs:
  run-script:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v2
      - name: Set up Python
        uses: actions/setup-python@v2
        with:
          python-version: '3.8'
      - name: Install Dependencies
        run: |
          pip install geopandas==0.13.2
          pip install Shapely==1.8.1.post1
          - name: Install GDAL dependencies
          run: |
            sudo apt-get update
            sudo apt-get install -y libgdal-dev
      - name: Install GDAL Python binding
        run: |
          pip install GDAL==3.6.2
      - name: Run fude_stats.py
        run: python fude_stats.py

